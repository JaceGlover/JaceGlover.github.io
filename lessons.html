<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AceBlocks Lua Lessons | Jace Glover</title>
<meta name="description" content="AceBlocks: Interactive Lua coding lessons for Roblox beginners. Complete objectives and earn certificates!">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    background: #0f172a;
    color: white;
}
.header {
    padding: 20px;
    text-align: center;
    background: #111827;
}
.header h1 {
    margin: 0;
    font-size: 2.5rem;
    color: #38bdf8;
}
.lesson-container {
    display: flex;
    padding: 20px;
    gap: 20px;
}
#block-categories {
    width: 200px;
    background: #1e293b;
    padding: 10px;
    border-radius: 8px;
}
.category {
    margin-bottom: 10px;
    font-weight: bold;
    color: #38bdf8;
}
.block {
    background: #334155;
    padding: 8px;
    margin: 5px 0;
    border-radius: 5px;
    cursor: grab;
    user-select: none;
    text-align: center;
}
.block:hover {
    background: #475569;
}
#lesson-area {
    flex: 1;
    background: #111827;
    padding: 20px;
    border-radius: 8px;
}
#character {
    width: 100px;
    height: 100px;
    border-radius: 10px;
    background: #38bdf8;
    margin: 10px auto;
    transition: transform 0.3s ease;
}
.button {
    padding: 10px 20px;
    margin: 10px 5px;
    background: #38bdf8;
    color: #0f172a;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
}
.button:hover {
    background: #60a5fa;
}
#script-output {
    background: #1e293b;
    padding: 10px;
    margin-top: 10px;
    height: 150px;
    overflow-y: auto;
    border-radius: 5px;
    font-family: monospace;
}
</style>
</head>
<body>

<div class="header">
    <h1>AceBlocks Lua Lessons</h1>
    <p>Complete objectives to unlock the next lesson!</p>
</div>

<div class="lesson-container">
    <div id="block-categories">
        <div class="category">Movement</div>
        <div class="block" draggable="true" data-code="MoveForward(5)">Move Forward</div>
        <div class="block" draggable="true" data-code="MoveBackward(5)">Move Backward</div>
        <div class="block" draggable="true" data-code="TurnLeft(90)">Turn Left</div>
        <div class="block" draggable="true" data-code="TurnRight(90)">Turn Right</div>

        <div class="category">Player Stats</div>
        <div class="block" draggable="true" data-code="SetSpeed(16)">Set Speed</div>
        <div class="block" draggable="true" data-code="AddStaminaBar()">Add Stamina</div>
        <div class="block" draggable="true" data-code="Sprint(2)">Sprint Ability</div>

        <div class="category">Control</div>
        <div class="block" draggable="true" data-code="Loop(5)">Loop</div>
        <div class="block" draggable="true" data-code="Wait(1)">Wait</div>
    </div>

    <div id="lesson-area">
        <h2 id="lesson-title"></h2>
        <p id="lesson-objective"></p>
        <div id="character"></div>
        <div id="workspace" style="min-height: 100px; border: 2px dashed #38bdf8; padding:10px;"></div>
        <button class="button" onclick="runCode()">Run Code</button>
        <button class="button" onclick="completeLesson()">Complete Lesson</button>
        <div id="script-output"></div>
    </div>
</div>

<script>
const lessons = [
    {
        title: "Lesson 1: Move Forward",
        objective: "Make the character move forward 5 studs",
        blocks: ["MoveForward(5)", "Loop(1)"],
        completed: false
    },
    {
        title: "Lesson 2: Add Stamina",
        objective: "Add a stamina bar that decreases when moving",
        blocks: ["AddStaminaBar()", "MoveForward(5)"],
        completed: false
    },
    {
        title: "Lesson 3: Sprint Ability",
        objective: "Create a sprint ability that doubles speed",
        blocks: ["Sprint(2)", "SetSpeed(16)"],
        completed: false
    },
    {
        title: "Lesson 4: Complete Run",
        objective: "Combine movement and sprint to reach the finish line",
        blocks: ["MoveForward(5)", "Sprint(2)", "Loop(2)"],
        completed: false
    }
];

let currentLessonIndex = 0;

function loadLesson(index) {
    const lesson = lessons[index];
    document.getElementById("lesson-title").innerText = lesson.title;
    document.getElementById("lesson-objective").innerText = lesson.objective;
    document.getElementById("workspace").innerHTML = "";
    document.getElementById("script-output").innerHTML = "";

    // Only show relevant blocks
    const allBlocks = document.querySelectorAll("#block-categories .block");
    allBlocks.forEach(block => {
        block.style.display = lesson.blocks.includes(block.getAttribute("data-code")) ? "block" : "none";
    });
}

function runCode() {
    const workspace = document.getElementById("workspace");
    const codeBlocks = workspace.querySelectorAll(".block");
    let codeOutput = "";
    const character = document.getElementById("character");

    codeBlocks.forEach(block => {
        const code = block.getAttribute("data-code");
        codeOutput += code + ";\n";

        // Simulate simple character reactions
        if (code.startsWith("MoveForward")) character.style.transform = "translateY(-20px)";
        if (code.startsWith("MoveBackward")) character.style.transform = "translateY(20px)";
        if (code.startsWith("TurnLeft")) character.style.transform = "rotate(-15deg)";
        if (code.startsWith("TurnRight")) character.style.transform = "rotate(15deg)";
        if (code.startsWith("Sprint")) character.style.transform = "scale(1.2)";
        setTimeout(() => { character.style.transform = "none"; }, 500);
    });

    document.getElementById("script-output").innerText = codeOutput;
}

// Drag and drop functionality
const blocks = document.querySelectorAll(".block");
blocks.forEach(block => {
    block.addEventListener("dragstart", e => {
        e.dataTransfer.setData("text/plain", block.getAttribute("data-code"));
    });
});

const workspace = document.getElementById("workspace");
workspace.addEventListener("dragover", e => e.preventDefault());
workspace.addEventListener("drop", e => {
    e.preventDefault();
    const code = e.dataTransfer.getData("text/plain");
    const newBlock = document.createElement("div");
    newBlock.className = "block";
    newBlock.innerText = code;
    newBlock.setAttribute("data-code", code);
    workspace.appendChild(newBlock);
});

function completeLesson() {
    lessons[currentLessonIndex].completed = true;
    alert("âœ… Lesson Completed!");

    if (currentLessonIndex + 1 < lessons.length) {
        currentLessonIndex++;
        loadLesson(currentLessonIndex);
    } else {
        alert("ðŸŽ‰ Congratulations! You completed all lessons!");
    }
}

// Load first lesson
window.onload = function() {
    loadLesson(currentLessonIndex);
};
</script>

</body>
</html>
