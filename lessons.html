<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AceBlocks Lua Academy</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:#eef2f7;
  display:flex;
  height:100vh;
  overflow:hidden;
}

/* SIDEBAR */
#sidebar{
  width:250px;
  background:#1f2937;
  color:white;
  padding:20px;
  overflow-y:auto;
}

.lessonBtn{
  padding:10px;
  margin:6px 0;
  background:#374151;
  border-radius:8px;
  cursor:pointer;
  transition:0.2s;
}

.lessonBtn:hover{
  background:#4f46e5;
}

/* MAIN */
#main{
  flex:1;
  display:flex;
  flex-direction:column;
}

/* TOP */
#topbar{
  background:white;
  padding:15px 25px;
  box-shadow:0 2px 6px rgba(0,0,0,0.1);
  display:flex;
  justify-content:space-between;
  align-items:center;
}

#progressBar{
  width:200px;
  height:10px;
  background:#ddd;
  border-radius:5px;
  overflow:hidden;
}

#progressFill{
  height:100%;
  width:0%;
  background:#10b981;
  transition:0.5s;
}

/* CONTENT */
#content{
  flex:1;
  display:flex;
  padding:20px;
  gap:20px;
}

/* PANELS */
.panel{
  flex:1;
  background:white;
  border-radius:12px;
  padding:15px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
  display:flex;
  flex-direction:column;
}

#blocks, #workspace{
  flex:1;
  overflow:auto;
  padding:10px;
}

.block{
  background:#facc15;
  padding:10px;
  border-radius:10px;
  margin-bottom:8px;
  cursor:grab;
  font-weight:bold;
  transition:0.2s;
}

.block:hover{
  transform:scale(1.03);
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
}

.block:active{
  cursor:grabbing;
}

#workspace{
  border:2px dashed #cbd5e1;
  background:#f8fafc;
  border-radius:10px;
}

#character{
  width:60px;
  height:60px;
  background:#6366f1;
  border-radius:50%;
  margin:auto;
  animation:bounce 2s infinite;
}

@keyframes bounce{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-10px);}
}

#output{
  margin-top:10px;
  min-height:40px;
  padding:8px;
  border-radius:8px;
  font-weight:bold;
}

.success{
  background:#d1fae5;
  color:#065f46;
}

.fail{
  background:#fee2e2;
  color:#991b1b;
}

button{
  padding:10px;
  margin-top:10px;
  border:none;
  border-radius:8px;
  background:#4f46e5;
  color:white;
  cursor:pointer;
}
</style>
</head>
<body>

<div id="sidebar">
<h2>AceBlocks</h2>
<div id="lessonList"></div>
</div>

<div id="main">

<div id="topbar">
<div>
<strong id="lessonTitle"></strong><br>
<span id="objective"></span>
</div>
<div id="progressBar">
<div id="progressFill"></div>
</div>
</div>

<div id="content">

<div class="panel">
<h3>Blocks</h3>
<div id="blocks"></div>
</div>

<div class="panel">
<h3>Workspace</h3>
<div id="workspace"></div>
<div id="character"></div>
<button onclick="runCode()">Run Script</button>
<div id="output"></div>
</div>

</div>

</div>

<script>
let currentLesson=0;
let studentName="";

const lessons=[
{
title:"Movement Script",
objective:"Create a WalkSpeed boost script.",
answer:["local player","player.Character","Humanoid","WalkSpeed"]
},
{
title:"Conditional Jump",
objective:"If JumpPower > 50 print 'High Jump'",
answer:["if","JumpPower",">","50","then","print","end"]
},
{
title:"Loop Counter",
objective:"Loop 1 to 5 printing numbers.",
answer:["for","1,5","do","print","end"]
},
{
title:"Function System",
objective:"Create function boost() and call it.",
answer:["function","boost","end","boost()"]
}
];

function buildSidebar(){
let list=document.getElementById("lessonList");
list.innerHTML="";
lessons.forEach((l,i)=>{
let div=document.createElement("div");
div.className="lessonBtn";
div.innerText="Lesson "+(i+1);
div.onclick=()=>{currentLesson=i;loadLesson();};
list.appendChild(div);
});
}

function loadLesson(){
let l=lessons[currentLesson];
document.getElementById("lessonTitle").innerText=l.title;
document.getElementById("objective").innerText=l.objective;
document.getElementById("workspace").innerHTML="";
document.getElementById("output").innerHTML="";
document.getElementById("output").className="";
document.getElementById("blocks").innerHTML="";
l.answer.forEach(word=>{
let div=document.createElement("div");
div.className="block";
div.innerText=word;
div.draggable=true;
div.ondragstart=e=>e.dataTransfer.setData("text",word);
document.getElementById("blocks").appendChild(div);
});
updateProgress();
}

document.getElementById("workspace").ondragover=e=>e.preventDefault();
document.getElementById("workspace").ondrop=e=>{
e.preventDefault();
let text=e.dataTransfer.getData("text");
let div=document.createElement("div");
div.className="block";
div.innerText=text;
div.draggable=true;
div.ondragstart=ev=>ev.dataTransfer.setData("text",text);
document.getElementById("workspace").appendChild(div);
};

function runCode(){
let blocks=document.querySelectorAll("#workspace .block");
let placed=[...blocks].map(b=>b.innerText);
let required=lessons[currentLesson].answer;

let success=required.every(r=>placed.includes(r));

let out=document.getElementById("output");

if(success){
out.innerText="Correct Script!";
out.className="success";
animateSuccess();
currentLesson++;
if(currentLesson<lessons.length){
setTimeout(loadLesson,1500);
}else{
generateCertificate();
}
}else{
out.innerText="Script Incorrect!";
out.className="fail";
animateFail();
}
}

function animateSuccess(){
let c=document.getElementById("character");
c.style.background="#10b981";
c.style.transform="scale(1.2)";
setTimeout(()=>{c.style.background="#6366f1";c.style.transform="scale(1)";},600);
}

function animateFail(){
let c=document.getElementById("character");
c.style.background="#ef4444";
c.style.transform="rotate(15deg)";
setTimeout(()=>{c.style.background="#6366f1";c.style.transform="rotate(0deg)";},600);
}

function generateCertificate(){
studentName=prompt("Enter your name for certificate:");
document.body.innerHTML=
"<div style='text-align:center;padding:50px;font-family:serif'>"+
"<h1>Certificate of Completion</h1>"+
"<h2>"+studentName+"</h2>"+
"<p>Has completed the AceBlocks Lua Academy</p>"+
"<p>Date: "+new Date().toLocaleDateString()+"</p>"+
"</div>";
}

function updateProgress(){
let percent=(currentLesson/lessons.length)*100;
document.getElementById("progressFill").style.width=percent+"%";
}

buildSidebar();
loadLesson();
</script>

</body>
</html>
